<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--
	<link rel="icon" href="favicon.ico" type="image/x-icon">
	<link rel="icon" href="favicon.png" type="image/png">
	<link rel="icon" href="favicon.svg" type="image/svg+xml">
	-->
    <link rel="icon" href="imagenes/icons8-favicon-3d-fluency-16.png" type="image/png" sizes="16x16">
    <title>Pink Floyd</title>
    <style>
    @font-face {
      font-family: 'floyd';
      src:url('fonts/floyd.ttf');}
    </style>
</head>
<body>
  <header>
  
<h1 style="font-family: floyd">Pink Floyd: Una Leyenda del Rock</h1>

    

  <nav>

    <ul>
    <li> <a href="index.html" target="_blank">inicio</a>

    <li><a href="Historia.html" target="_blank">Historia</a></li>
    <li><a href="Albunes.html" target="_blank">Albunes</a></li>
    <li><a href="Integrantes.html" target="_blank">Integrantes</a></li>

    </ul>
    </nav>
   </header
   <h2><b>Bienvenidos</b></h2>
   <p><small>Bienvenidos a la pagina dedicada a Pink Floyd, una de las bandas mas influyentes de todos los tiempos</small></p>
   <!-- Formulario de Suscripción -->
 <section>
  <h2>Suscríbete a nuestras Noticias</h2>
  <form action="procesar_suscripcion.php" method="POST" aria-labelledby="suscripcion-title">
  <!-- Campo visible -->
  <div>
  <label for="email">Correo Electrónico:</label>
  <input type="email" id="email" name="email" placeholder="ejemplo@correo.com" required
  aria-describedby="email-info">
  <small id="email-info">Por favor, ingresa un correo electrónico válido.</small>
  </div>
  <!-- Campo CAPTCHA Simple -->
 <div>
  <label for="captcha">¿Cuánto es 2 + 3?</label>
  <input type="text" id="captcha" name="captcha" pattern="5" required
  aria-describedby="captcha-info">
  <small id="captcha-info">Esta pregunta nos ayuda a confirmar que no eres un robot.</small>
  </div>
  <!-- Honeypot: Campo oculto para bots -->
  <div style="display: none;">
  <label for="extra">Si eres humano, deja este campo vacío:</label>
  <input type="text" id="extra" name="extra">
  </div>
  <!-- Honeypot: Campo oculto para bots -->
 <div style="display: none;">
  <label for="extra">Si eres humano, deja este campo vacío:</label>
  <input type="text" id="extra" name="extra">
  </div>
 <!-- Captcha con botón deslizante -->
 <section>
 <form action="/action_page.php"
 oninput="x.value=parseInt(a.value)+parseInt(b.value)"> 0
 <input type="range" id="a" name="a" value="50">
 100 +
 <input type="number" id="b" name="b" value="50"> =
 <output name="x" for="a b"></output>
 <br><br>
 <input type="submit">
 </form>
 </section>

  <!-- Botón de envío -->
  <div>
  <button type="submit">Suscribirse</button>
  </div>
  </form>
  </section>
  </main>

    <p>&copy;Pink Floyd Fan Page
    </body>
</html>
<?php
if ($_SERVER["REQUEST_METHOD"] === "POST") {
 // Validar Honeypot
 if (!empty($_POST['extra'])) {
 die("Error: Se detectó actividad no autorizada.");
 }
 // Captura y sanitización de datos
 $email = filter_input(INPUT_POST, 'email', FILTER_SANITIZE_EMAIL);
 $captcha = filter_input(INPUT_POST, 'captcha', FILTER_SANITIZE_NUMBER_INT);
 // Validación de los datos
 if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
 die("Error: El correo electrónico no es válido.");
 }
 if ($captcha != 5) {
 die("Error: La respuesta al CAPTCHA es incorrecta.");
 }
 // TODO: Aquí se guardaría el correo en la base de datos de manera segura.
 echo "¡Gracias por suscribirte! Pronto recibirás nuestras noticias.";
} else {
 die("Acceso no permitido.");
}
?>